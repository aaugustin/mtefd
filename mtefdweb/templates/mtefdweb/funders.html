{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}Funders - Multiple Template Engines{% endblock %}

{% block extrahead %}

<style>

{# space out headers a bit #}
h2 { clear: left; padding-top: 2em;}
h1 + h2 { padding-top: 0;}

{# outer layout #}
.perk7, .perk6, .perk5 { overflow: auto; height: 10em; }
.perk7, .perk6 { margin: 0 auto 3%; }
.perk5, .perk4, .perk3 { margin: 0 1.5% 3% 1.5%; }
@media all and (min-width: 32em) {
    .perk5, .perk4, .perk3 { float: left; width: 41%; }
}
@media all and (min-width: 44em) {
    .perk3 { width: 24%; }
}

{# backgrounds #}
/* Background patterns from subtlepatterns.com */
.perk7 { background: url("{% static 'mtefdweb/img/diamond.png' %}");
         background-size: 33px 25px; }
.perk6 { background: url("{% static 'mtefdweb/img/brushed.png' %}");
         background-size: 113.5px 113.5px; }
.perk5 { background-color: #ffd700; }
.perk4 { background-color: #c0c0c0; }
.perk3 { background-color: #CD7F32; }

{# inner layout and styles #}
.perk { padding: 3%; text-align: center; }

.perk img { float: left; margin: 0 3% 1.5% 0; }
.perk7 img,
.perk6 img { max-height: 10em; max-width: 50%; }
.perk5 img { max-height: 6em; max-width: 30%; }

.perk7 span, .perk6 span { font-size: 21px; }
.perk5 span, .perk4 span, .perk3 span { font-size: 18px; text-shadow: 0 0 4px #fff; }

.perk p { font-style: italic; margin-top: 3%; }
.perk p:before { content:"“"; }
.perk p:after { content:"”"; }
.perk7 p, .perk6 p { font-size: 18px; }

</style>

{% endblock %}

{% block content %}

{% include 'mtefdweb/_menu.html' %}

<h1>Multiple Template Engines for Django</h1>

{% for sponsor in sponsors %}

{% ifchanged sponsor.perk %}
<h2>{{ sponsor.get_perk_display }}s</h2>
{% endifchanged %}

<div class="perk perk{{ sponsor.perk}}">

{% if sponsor.perk >= 4 and sponsor.logo %}
<img src="{{ sponsor.logo }}">
{% endif %}

{% if sponsor.perk >= 4 and sponsor.link %}
<a href="{{ sponsor.link }}"><span>{{ sponsor.display_name }}</span></a>
{% else %}
<span>{{ sponsor.display_name }}</span>
{% endif %}

{% if sponsor.perk >= 5 and sponsor.why %}
<p>{{ sponsor.why }}</p>
{% endif %}

</div>

{% endfor %}

<h2>Thanks</h2>

<p><strong>Double thanks to {% for funder in funders2 %}{{ funder.display_name }}{% if not forloop.last %}, {% endif %}{% endfor %}.</strong></p>

<p>Thanks to {% for funder in funders1 %}{{ funder.display_name }}{% if not forloop.last %}, {% endif %}{% endfor %}.</p>

<p><em>Special thanks to {% for funder in fundersx %}{{ funder.display_name }}{% if not forloop.last %}, {% endif %}{% endfor %}.</em></p>

{% endblock %}
